## クッキー型メーカー

## input 

- 白黒の手書き絵の画像


## output

- .stlファイル

## 画像下処理

### 画像下処理1: 背景削除

- gemini2.5-flash-image
- 処理
  - 方眼用紙などの背景を削除
  - 背景は白一色にする
  - クッキー型にするために線は、なめらかな曲線にする
  - 枠の部分は黒色で均等な太さにする
  - 線の端の跳ねやはみ出しを処理して、線の端を綺麗に処理する

### 画像下処理2: クッキー型用枠

- gemini2.5-flash-image
- 処理
  - 渡された画像から一番外側の輪郭(クッキー型にする部分)となる部分のみを抜き出す
  - 一筆書きで描ける閉じた形状にする（完全に閉じた1本の輪郭線のみ）
  - 内部を横切る線は全て削除する
  - それ以外の部分（文字、模様、内側の線など）は削除する

### 画像下処理3: スタンプ用

- gemini2.5-flash-image
- 処理
  - クッキー型用枠を削除し、それ以外の全ての要素（文字、内部の模様など）にする

## クッキー型作成処理
### 画像 -> SVG変換

- pythonライブラリ: openCV

- 1. グレースケール変換
- 2. 輪郭の検出
- 3. SVGファイル書き出し

- タスク: .ai/tasks/20260219_image_to_svg.md

### SVG画像 -> .stl

- pythonライブラリ: trimesh

#### クッキー型

- 抜き型
- 厚さ: 1mm
- 高さ: 10mm

## スタンプ作成処理

- 未定